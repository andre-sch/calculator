<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./css/global.css">
  <link rel="stylesheet" href="./css/calculator.css">
  <link rel="stylesheet" href="./css/bottom-card.css">
  <link rel="stylesheet" href="./css/history.css">
  <link rel="stylesheet" href="./css/memory.css">
  <link rel="stylesheet" href="./css/menu-card.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600;700&family=Poppins:wght@300;500&display=swap" rel="stylesheet">
  <link rel="shortcut icon" href="./assets/favicon.svg" type="image/svg+xml">
  <title>Calculator</title>
</head>
<body>
  <output class="output-measure">0</output>
  <div class="body-overlay"></div>
  <div class="calculator-container">
    <div class="calculator-overlay"></div>
    <div class="menu-card">
      <section>
        <h1>Calculator</h1>
        <ul>
          <li>
            <button class="current-mode" onclick="toggleDisplay.menu()">
              <img src="./assets/calculator.svg" alt="calculator">
              Standard
            </button>
          </li>
          <li>
            <div class="unavailable">
              <img src="./assets/test-tube.svg" alt="test tube">
              Scientific
            </div>
          </li>
          <li>
            <div class="unavailable">
              <img src="./assets/unlicensed/graph.svg" alt="cartesian plane">
              Graphing
            </div>
          </li>
          <li>
            <div class="unavailable">
              <img src="./assets/tag.svg" alt="HTML tag">
              Programmer
            </div>
          </li>
          <li>
            <div class="unavailable">
              <img src="./assets/calendar.svg" alt="calendar">
              Date Calculation
            </div>
          </li>
        </ul>
      </section>
      <section>
        <h1 class="unavailable">Converter</h1>
        <ul>
          <li>
            <div class="unavailable">
              <img src="./assets/unlicensed/coin-stack.svg" alt="coin stack">
              Currency
            </div>
          </li>
          <li>
            <div class="unavailable">
              <img src="./assets/cube.svg" alt="cube">
              Volume
            </div>
          </li>
          <li>
            <div class="unavailable">
              <img src="./assets/ruler.svg" alt="ruler">
              Length
            </div>
          </li>
          <li>
            <div class="unavailable">
              <img src="./assets/ellipsis.svg" alt="ellipsis">
            </div>
          </li>
        </ul>
      </section>
    </div>
    <div class="bottom-card history empty">
      <p>There’s no history yet</p>
      <div class="content">
        <div class="saves-container thin-scroll">
          <ul>
          </ul>
        </div>
        <button
          class="clear-saves"
          onclick="calculatorHistory.clear()"
        >
          <img src="./assets/trash.svg" alt="clear history">
        </button>
      </div>
    </div>
    <div class="bottom-card memory empty">
      <p>There’s nothing saved in memory</p>
      <div class="content">
        <div class="saves-container thin-scroll">
          <ul>
          </ul>
        </div>
        <button
          class="clear-saves"
          onclick="memory.clear()"
        >
          <img src="./assets/trash.svg" alt="clear memory">
        </button>
      </div>
    </div>
    <p>Calculator</p>
    <header>
      <button
        class="menu"
        onclick="toggleDisplay.menu()"
      >
        <img src="./assets/menu.svg" alt="menu bars">
      </button>
      <h1>Standard</h1>
      <button
        class="history"
        onclick="toggleDisplay.history()"
      >
        <img src="./assets/history.svg" alt="history">
      </button>
    </header>
    <div class="equation">
      <button onclick="operation.shiftContainerTextContent('left')">
        <img
          src="./assets/unlicensed/arrow.svg"
          alt="see overflowed content on the left"
          style="transform: rotateY(180deg);"
        >
      </button>
      <span class="operation"></span>
      <button onclick="operation.shiftContainerTextContent('right')">
        <img src="./assets/unlicensed/arrow.svg" alt="see overflowed content on the right">
      </button>
      <output>0</output>
    </div>
    <div class="memory-row">
      <button onclick="memory.clear()" disabled>MC</button>
      <button onclick="memory.recall()" disabled>MR</button>
      <button onclick="memory.plus()">M+</button>
      <button onclick="memory.minus()">M-</button>
      <button onclick="memory.store()">MS</button>
      <button
        class="show-memory"
        onclick="toggleDisplay.memory(event, true)"
        disabled
      >
        <img
          class="disabled-img"
          src="./assets/unlicensed/show-memory-disabled.svg"
          alt="show memory"
        >
        <img
          class="enabled-img"
          src="./assets/unlicensed/show-memory-enabled.svg"
          alt="show memory"
        >
      </button>
    </div>
    <div class="keyboard">
      <!-- first row -->
      <button
        id="key %"
        class="light-gray enabled"
        onclick="operation.percentage()"
      >
        <img src="./assets/percentage.svg" alt="percentage">
      </button>
      <button
        id="key Delete"
        class="light-gray clear"
        onclick="entry.clear()"
      >CE</button>
      <button
        id="key Escape"
        class="light-gray clear"
        onclick="clearEverything()"
      >C</button>
      <button
        id="key Backspace"
        class="light-gray"
        onclick="entry.removeCharacter()"
      >
        <img src="./assets/unlicensed/backspace.svg" alt="backspace">
      </button>
      <!-- second row -->
      <button
        id="key r"
        class="light-gray enabled"
        onclick="operation.mathFunctions.multiplicativeInverse()"
      >
        <img
          src="./assets/unlicensed/multiplicative-inverse.svg"
          alt="multiplicative inverse"
        >
      </button>
      <button
        id="key q"
        class="light-gray enabled"
        onclick="operation.mathFunctions.square()"
      >
        <img src="./assets/unlicensed/number-squared.svg" alt="number squared">
      </button>
      <button
        id="key @"
        class="light-gray enabled"
        onclick="operation.mathFunctions.squareRoot()"
      >
        <img src="./assets/unlicensed/square-root.svg" alt="square root">
      </button>
      <button
        id="key /"
        class="light-gray enabled"
        onclick="operation.doBasic('division')"
      >÷</button>
      <!-- third row -->
      <button
        id="key 7"
        class="white number"
        onclick="entry.addCharacter('7')"
      >7</button>
      <button
        id="key 8"
        class="white number"
        onclick="entry.addCharacter('8')"
      >8</button>
      <button
        id="key 9"
        class="white number"
        onclick="entry.addCharacter('9')"
      >9</button>
      <button
        id="key *"
        class="light-gray enabled"
        onclick="operation.doBasic('multiplication')"
      >×</button>
      <!-- fourth row -->
      <button
        id="key 4"
        class="white number"
        onclick="entry.addCharacter('4')"
      >4</button>
      <button
        id="key 5"
        class="white number"
        onclick="entry.addCharacter('5')"
      >5</button>
      <button
        id="key 6"
        class="white number"
        onclick="entry.addCharacter('6')"
      >6</button>
      <button
        id="key -"
        class="light-gray enabled"
        onclick="operation.doBasic('subtraction')"
      >–</button>
      <!-- fifth row -->
      <button
        id="key 1"
        class="white number"
        onclick="entry.addCharacter('1')"
      >1</button>
      <button
        id="key 2"
        class="white number"
        onclick="entry.addCharacter('2')"
      >2</button>
      <button
        id="key 3"
        class="white number"
        onclick="entry.addCharacter('3')"
      >3</button>
      <button
        id="key +"
        class="light-gray enabled"
        onclick="operation.doBasic('addition')"
      >+</button>
      <!-- sixth row -->
      <button
        id="key F9"
        class="white enabled"
        style="border-radius: 0 0 0 5px;"
        onclick="operation.mathFunctions.negate()"
      >
        <img src="./assets/plus-minus.svg" alt="plus minus">
      </button>
      <button
        id="key 0"
        class="white number"
        onclick="entry.addCharacter('0')"
      >0</button>
      <button
        id="key ."
        class="white enabled"
        onclick="entry.addCharacter('.')"
      >.</button>
      <button
        id="key ="
        class="dark-gray"
        style="border-radius: 0 0 5px 0;"
        onclick="operation.equal()"
      >=</button>
    </div>
  </div>
  <script src="./src/entry.js"></script>
  <script src="./src/errorMode.js"></script>
  <script src="./src/history.js"></script>
  <script src="./src/keyboardActions.js"></script>
  <script src="./src/memory.js"></script>
  <script src="./src/operation.js"></script>
  <script src="./src/paste.js"></script>
  <script src="./src/scrollbar.js"></script>
  <script src="./src/toggleDisplay.js"></script>
  <script>
    const bodyOverlay = document.querySelector('.body-overlay')
    const calculatorOverlay = document.querySelector('.calculator-overlay')
    const tabNavigationButtons = document.querySelectorAll(
      'header button, .equation button, .memory-row button'
    )

    const [leftArrow, rightArrow] = document.querySelectorAll('.equation button')

    const cards = {
      menu: document.querySelector('.menu-card'),
      history: document.querySelector('.bottom-card.history'),
      memory: document.querySelector('.bottom-card.memory')
    }

    function clearEverything() {
      operation.clear()
      entry.previous = null
      entry.clear()
    }

    document.querySelectorAll('img').forEach(images => images.draggable = false)
    takeOutDrag(document.querySelector('.equation output'))
    function takeOutDrag(element) {
      element.addEventListener('dragstart', event => event.preventDefault())
    }
  </script>
</body>
</html>